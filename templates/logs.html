{% extends "layout.html" %}

{% block content %}
    <h1>ðŸ“œ System Audit Logs</h1>
    <p><em>This table displays entries automatically created by the Database Trigger (trg_AfterTrackInsert). It records an action every time a new track is inserted into the database.</em></p>

    {% if logs %}
    <table>
        <thead>
            <tr>
                <th style="width: 10%;">Log ID</th>
                <th style="width: 40%;">Track Name</th>
                <th style="width: 20%;">Action Type</th>
                <th style="width: 30%;">Timestamp</th>
            </tr>
        </thead>
        <tbody>
            {% for log in logs %}
            <tr>
                <td>{{ log.LogId }}</td>
                <td>{{ log.TrackName }}</td>
                <td><span style="background-color: #28a745; color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.8em;">{{ log.ActionType }}</span></td>
                <td>{{ log.ActionDate }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <div style="background-color: #fff; padding: 20px; border-radius: 8px; text-align: center;">
            <p>No logs found yet. Add a track to see the trigger in action!</p>
        </div>
    {% endif %}

{% endblock %}